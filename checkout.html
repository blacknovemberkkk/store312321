<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - Melissa</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="checkout.css">
</head>
<body>
    <!-- Header Principal -->
    <header class="checkout-header">
        <div class="header-content">
            <img src="img/logo.png" alt="Melissa" class="logo">
            <div class="security-info">
                <span class="security-text">PAGAMENTO 100% SEGURO</span>
                <span class="lock-icon">üîí</span>
            </div>
        </div>
        <div class="offer-timer">
            <span class="clock-icon">üïê</span>
            <span>Oferta termina em <span id="timer">00:14:11</span></span>
        </div>
    </header>

    <!-- Conte√∫do Principal -->
    <main class="checkout-main">
        <div class="checkout-container">
            <!-- Resumo do Pedido -->
            <section class="order-summary">
                <h2>RESUMO</h2>
                <div class="cart-items" id="checkoutCartItems">
                    <!-- Itens do carrinho ser√£o inseridos aqui via JavaScript -->
                </div>
                
                <div class="summary-totals">
                    <div class="summary-line">
                        <span>Produtos</span>
                        <span id="productsTotal">R$ 0,00</span>
                    </div>
                    <div class="summary-line">
                        <span>Frete</span>
                        <span id="shippingTotal">+ R$ 0,00</span>
                    </div>
                    <div class="summary-line total-line">
                        <span>Total</span>
                        <span id="finalTotal">R$ 0,00</span>
                    </div>
                </div>

                <div class="coupon-section">
                    <span class="coupon-text">Tem um cupom?</span>
                    <div class="coupon-input">
                        <input type="text" placeholder="C√≥digo do cupom" id="couponCode">
                        <span class="envelope-icon">‚úâÔ∏è</span>
                        <button class="add-coupon-btn">Adicionar</button>
                    </div>
                </div>
            </section>

            <!-- Etapas do Checkout -->
            <section class="checkout-steps">
                <!-- Etapa 0: Resumo e Continuar -->
                <div class="step active" id="step0">
                    <div class="step-header">
                        <h3>Finalizar Compra</h3>
                    </div>
                    <p class="step-description">
                        Revise seus itens e continue para finalizar sua compra.
                    </p>
                    
                    <button type="button" class="continue-btn" onclick="goToStep1()">Continuar</button>
                </div>

                <!-- Etapa 1: Identifica√ß√£o -->
                <div class="step" id="step1">
                    <div class="step-header">
                        <div class="step-number">1</div>
                        <h3>Identifique-se</h3>
                        <span class="info-icon">‚ÑπÔ∏è</span>
                    </div>
                    <p class="step-description">
                        Utilizaremos seu e-mail para: Identificar seu perfil, hist√≥rico de compra, notifica√ß√£o de pedidos e carrinho de compras.
                    </p>
                    
                    <form class="identification-form">
                        <div class="form-group">
                            <input type="text" placeholder="Nome completo" id="fullName" required>
                        </div>
                        <div class="form-group">
                            <input type="email" placeholder="email@email.com" id="email" required>
                        </div>
                        <div class="form-group">
                            <input type="text" placeholder="149.004.245-95" id="cpf" required>
                        </div>
                        <div class="form-group phone-group">
                            <input type="text" placeholder="+55" id="countryCode" class="country-code">
                            <input type="text" placeholder="(24) 99999-9999" id="phone" class="phone-number">
                        </div>
                        <div class="step-buttons">
                            <button type="button" class="back-btn" onclick="goToPreviousStep()">Voltar</button>
                            <button type="button" class="continue-btn" onclick="goToStep2()">Continuar</button>
                        </div>
                    </form>
                </div>

                <!-- Etapa 2: Entrega -->
                <div class="step" id="step2" style="display: none;">
                    <div class="step-header">
                        <div class="step-number">2</div>
                        <h3>Entrega</h3>
                    </div>
                    <p class="step-description">Cadastre ou selecione um endere√ßo</p>
                    
                    <div class="delivery-content">
                        <!-- Formul√°rio de Endere√ßo -->
                        <div class="address-form" id="addressForm">
                            <h4>Novo Endere√ßo</h4>
                            <form class="delivery-form">
                                <div class="form-group">
                                    <label for="cep">CEP</label>
                                    <input type="text" placeholder="23970-000" id="cep" required>
                                </div>
                                <div class="form-group">
                                    <label for="street">Endere√ßo</label>
                                    <input type="text" placeholder="Rua, Avenida, etc." id="street" required>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="number">N√∫mero</label>
                                        <input type="text" placeholder="123" id="number" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="neighborhood">Bairro</label>
                                        <input type="text" placeholder="Centro" id="neighborhood" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="complement">Complemento (opcional)</label>
                                    <input type="text" placeholder="Apartamento, casa, etc." id="complement">
                                </div>
                                <div class="form-group">
                                    <label for="recipient">Destinat√°rio</label>
                                    <input type="text" placeholder="nome completo" id="recipient" required>
                                </div>
                                <button type="button" class="save-address-btn" onclick="saveAddress()">Salvar</button>
                            </form>
                        </div>

                        <!-- Pr√©via do Endere√ßo -->
                        <div class="address-preview" id="addressPreview" style="display: none;">
                            <div class="address-card selected">
                                <input type="radio" name="address" id="address1" checked>
                                <label for="address1" class="address-info">
                                    <div class="address-main" id="previewStreet">Rua Projetada 40, 55</div>
                                    <div class="address-details" id="previewLocation">Novo Ara√ß√°s, Barbalha - CE</div>
                                    <div class="address-cep" id="previewCep">CEP: 63180-000</div>
                                </label>
                                <button class="edit-address-btn" onclick="editAddress()">‚úèÔ∏è</button>
                            </div>
                        </div>

                        <div class="delivery-methods" style="display: none;">
                            <h4>Escolha uma forma de entrega:</h4>
                            
                            <div class="delivery-option">
                                <input type="radio" name="delivery" id="jadlog" value="jadlog">
                                <label for="jadlog" class="delivery-info">
                                    <div class="delivery-name">JadLog</div>
                                    <div class="delivery-time">de 5 a 10 dias √∫teis</div>
                                </label>
                                <div class="delivery-price">R$ 0,00</div>
                            </div>

                            <div class="delivery-option">
                                <input type="radio" name="delivery" id="correios" value="correios">
                                <label for="correios" class="delivery-info">
                                    <div class="delivery-name">Correios PAC - (Envio Imediato)</div>
                                    <div class="delivery-time">2 a 4 dias √∫teis</div>
                                </label>
                                <div class="delivery-price">R$ 9,65</div>
                            </div>
                        </div>

                        <div class="delivery-info-text">
                            <p><strong>O prazo para entrega √© garantido ap√≥s a postagem.</strong></p>
                            <p>Enviamos o c√≥digo para rastreamento via e-mail e WhatsApp para que voc√™ possa acompanhar todo o trajeto da encomenda at√© a sua casa!</p>
                        </div>

                        <div class="step-buttons">
                            <button type="button" class="back-btn" onclick="goToPreviousStep()">Voltar</button>
                            <button type="button" class="continue-btn" onclick="goToStep3()">Continuar</button>
                        </div>
                    </div>
                </div>

                <!-- Etapa 3: Pagamento -->
                <div class="step" id="step3" style="display: none;">
                    <div class="step-header">
                        <div class="step-number">3</div>
                        <h3>Pagamento</h3>
                    </div>
                    <p class="step-description">Escolha a forma de pagamento</p>
                    
                    <div class="payment-content">
                        <div class="payment-option selected">
                            <input type="radio" name="payment" id="pix" value="pix" checked>
                            <label for="pix" class="payment-info">
                                <div class="payment-name">PIX</div>
                                <div class="payment-description">
                                    A confirma√ß√£o de pagamento √© realizada em poucos minutos. Utilize o aplicativo do seu banco para pagar.
                                </div>
                                <div class="payment-value">Valor no pix: <span id="pixValue">R$ 709,76</span></div>
                            </label>
                        </div>

                        <div class="step-buttons">
                            <button type="button" class="back-btn" onclick="goToPreviousStep()">Voltar</button>
                            <button type="button" class="finalize-payment-btn" onclick="finalizePayment()">
                                <span class="lock-icon">üîí</span>
                                Finalizar pagamento
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="checkout-footer">
        <div class="footer-content">
            <p>¬© 2025 Melissa - Loja Oficial - CNPJ: 89.850.341/0001-60</p>
            <p>Whatsapp: / E-mail: contato@usamelissa.com</p>
            <div class="security-footer">
                <span class="lock-icon">üîí</span>
                <span>PAGAMENTO 100% SEGURO</span>
            </div>
        </div>
    </footer>

    <script src="products.js"></script>
    <script src="cart.js"></script>
    <script src="checkout.js"></script>
</body>
</html>
